<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CDMA Tools</title>
  <style>
    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    .top-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background-color: #012d3a;
        color: #ffffff;
        display: flex;
        align-items: center;
        padding-left: 240px; /* pushes the text away from sidebar */
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .top-header h1 {
        font-size: 18px;
        font-weight: normal;
    }
    .sidebar {
      width: 220px;
      background-color: #012d3a;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 0;
      position: fixed;
      top: 60px;
      left: 0;
      bottom: 0;
      height: calc(100vh - 60px);
      overflow-y: auto;
    }

    .sidebar h1 {
      font-size: 20px;
      margin-bottom: 5px;
    }

    .sidebar h3 {
      font-size: 14px;
      font-weight: normal;
      margin-bottom: 30px;
    }

    .nav-links {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    .nav-links button {
      background: none;
      border: none;
      color: white;
      padding: 15px 20px;
      text-align: left;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .nav-links button:hover,
    .nav-links button.active {
      background-color: #1e4b5a;
    }

.main-content {
  margin-left: 220px;
  margin-top: 60px; /* below header */
  padding: 30px;
  height: calc(100vh - 60px);
  width: 150%;
  overflow-y: auto;
  background: linear-gradient(45deg, #e7ede4, #f5f9f1);
}

    section {
      display: none;
      background-color: #ffffff;
      border-radius: 8px;
      padding: 50px;
      margin-bottom: 30px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    section.active {
      display: block;
    }

    h2 {
      color: #014357;
    }

    input[type="text"], textarea, input[type="number"], input[type="file"] {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }

    button {
      padding: 10px 15px;
      background-color: #014357;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background-color: #126b83;
    }

    .WordCount, #charCount {
      margin-right: 10px;
      background-color: #eef1ed;
      padding: 10px;
      border-radius: 5px;
      display: inline-block;
    }
        .footer {
        margin: 20px 0;
        background-color: #012d3a;
        color: white;
        text-align: center;
    }
      /* Top Header */
  </style>
</head>
<body>
    <!-- Top Page Header -->
  <header class="top-header">
    <h1>Free datamanagement tools by Chuk Umunna</h1>
  </header>
  <!-- Sidebar -->
<div class="sidebar">
    <div class="nav-links">
      <button onclick="showSection('home')" class="active">Home</button>
      <button onclick="showSection('folder-reporting')">Folder Reporting</button>
      <button onclick="showSection('text-counter')">Text Counter</button>
      <button onclick="showSection('json-csv')">JSON to CSV</button>
      <button onclick="showSection('path-generator')">Paths Generator</button>
      <button onclick="showSection('batch-copy')">Batch Copy</button>
      <button onclick="showSection('bbox-single')">BBox (Single)</button>
      <button onclick="showSection('bbox-multi')">BBox (Multiple)</button>
      <button onclick="showSection('excel-qa')">Excel QA</button>
      <button onclick="showSection('leave-calc')">Leave Calculator</button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <section id="home" class="active">
      <h2>Welcome</h2>
      <p>This is the CDMA personal toolkit by Chuk Umunna.</p>
    </section>

    <section id="folder-reporting">
      <h2>Folder Reporting</h2>
      <form method="POST" action="/folder_report">
        <input type="text" name="folder_path" placeholder="Paste folder path" required />
        <button type="submit">Generate Report</button>
      </form>
    </section>

    <section id="text-counter">
      <h2>Text Counter</h2>
      <textarea id="textInput" rows="6" oninput="countText()"></textarea>
      <div>
        <div id="wordCount" class="WordCount">Words: 0</div>
        <div id="charCount">Characters: 0</div>
      </div>
    </section>

    <section id="json-csv">
      <h2>JSON to CSV Converter</h2>
      <form action="/convert" method="POST">
        <input type="text" name="file_path" placeholder="Json file path" required />
        <button type="submit" name="convert">Convert</button>
      </form>
    </section>

    <section id="path-generator">
      <h2>File & Folder Paths Generator</h2>
      <form action="/generate" method="post">
        <input type="text" name="folder_path" placeholder="Enter folder path" required />
        <button type="submit" name="generate">Generate</button>
      </form>
    </section>

    <section id="batch-copy">
      <h2>Batch Copy File</h2>
      <p>Copies files from a spreadsheet with file paths to designated folders.</p>
    </section>

    <section id="bbox-single">
      <h2>Bounding Box Generator (Single Point)</h2>
      <form method="POST" action="/geobox">
        <input type="text" name="coordinates" placeholder="Place or Coordinates" required />
        <button type="submit">Generate</button>
      </form>
    </section>

    <section id="bbox-multi">
      <h2>Bounding Box Generator (Multiple Points)</h2>
      <form method="POST" action="/geobox_multiple">
        <input type="text" name="coordinates" placeholder="lat,lon;lat,lon;..." required />
        <button type="submit">Generate</button>
      </form>
    </section>

    <section id="excel-qa">
      <h2>Excel QA Report Generator</h2>
      <form method="POST" action="/Excel_reporting" enctype="multipart/form-data">
        <input type="file" name="excel_file" required />
        <button type="submit">Generate Report</button>
      </form>
    </section>

    <section id="leave-calc">
      <h2>Annual Leave Calculator</h2>
      <form method="post" action="/leave_balance">
        <input type="number" step="0.01" name="total_hours" placeholder="Total Leave Hours" required />
        <input type="number" step="0.01" name="daily_hours" placeholder="Daily Work Hours" required />
        <button type="submit">Calculate</button>
      </form>
    </section>
  </div>

  <script>
    function showSection(id) {
      // Hide all sections
      const sections = document.querySelectorAll('section');
      sections.forEach(sec => sec.classList.remove('active'));

      // Remove active class from buttons
      const buttons = document.querySelectorAll('.nav-links button');
      buttons.forEach(btn => btn.classList.remove('active'));

      // Show selected section and highlight button
      document.getElementById(id).classList.add('active');
      const btn = Array.from(buttons).find(b => b.textContent.toLowerCase().includes(id.split('-')[0]));
      if (btn) btn.classList.add('active');
    }

    function countText() {
      const text = document.getElementById('textInput').value;
      fetch('/count', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: 'text=' + encodeURIComponent(text)
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById('wordCount').innerText = 'Words: ' + data.words;
        document.getElementById('charCount').innerText = 'Characters: ' + data.characters;
      });
    }
  </script>
  <footer class="footer">

  </footer>
</body>
</html>
